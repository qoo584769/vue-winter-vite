import{i as g,k as y,r as k,a as v,o as $,b as n,d as l,e as b,u as w,f as t,F as x,h as L,t as i,L as B}from"./index-a839f59c.js";const U={class:"container"},V={class:"row"},C={class:"col-6"},D=["src"],F={class:"row mt-3"},N=["src"],P={class:"col-6"},j={class:""},E={class:""},I={class:""},M={key:0,class:"h5"},R={key:1,class:""},S={class:"h6"},T={class:"h5"},q={class:"input-group"},G={__name:"ProductView",setup(z){const d=g("axios"),h=y(),u="vue-winter",_="https://vue3-course-api.hexschool.io/v2",a=k({data:{}}),p=v(null),e=v(!1),f=async o=>{e.value=!0;try{const s=await d.get(`${_}/api/${u}/product/${o}`);a.data=s.data.product,e.value=!1}catch(s){alert(s),e.value=!1}},m=(o,s=1)=>{e.value=!0,s===""&&(s=1);const c={product_id:o,qty:parseInt(s)};d.post(`${_}/api/${u}/cart`,{data:c}).then(()=>{e.value=!1,alert(`${s} 個商品成功加入購物車`)}).catch(r=>{alert(r),e.value=!1})};return $(()=>{const{id:o}=h.params;f(o)}),(o,s)=>(n(),l("div",U,[b(w(B),{active:e.value,"onUpdate:active":s[0]||(s[0]=c=>e.value=c)},null,8,["active"]),t("div",V,[t("div",C,[t("img",{src:a.data.imageUrl,alt:"",class:"img-fluid"},null,8,D),t("div",F,[(n(!0),l(x,null,L(a.data.imagesUrl,(c,r)=>(n(),l("div",{class:"col",key:r},[t("img",{src:c,alt:"",class:"img-fluid"},null,8,N)]))),128))])]),t("div",P,[t("h1",j,"商品名稱 : "+i(a.data.title),1),t("p",E,"商品描述 : "+i(a.data.description),1),t("p",I,"商品內容 : "+i(a.data.content),1),a.data.price===a.data.origin_price?(n(),l("div",M,i(a.data.price)+" 元 ",1)):(n(),l("div",R,[t("del",S,"原價 "+i(a.data.origin_price)+" 元",1),t("div",T,"現在只要 "+i(a.data.price)+" 元",1)])),t("div",q,[t("input",{type:"number",class:"form-control",min:"1",value:"1",ref_key:"qty",ref:p},null,512),t("button",{type:"type",class:"btn btn-outline-secondary",onClick:s[1]||(s[1]=c=>m(a.data.id,p.value.value))}," 加入購物車 ")])])])]))}};export{G as default};
